!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.htmPreact={})}(this,function(e){var n,t,o,u,r,_,l={},i=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function f(e,n){for(var t in n)e[t]=n[t];return e}function s(e){var n=e.parentNode;n&&n.removeChild(e)}function p(e,n,t){var o,u=arguments,r={};for(o in n)"key"!==o&&"ref"!==o&&(r[o]=n[o]);if(arguments.length>3)for(t=[t],o=3;o<arguments.length;o++)t.push(u[o]);if(null!=t&&(r.children=t),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===r[o]&&(r[o]=e.defaultProps[o]);return a(e,r,n&&n.key,n&&n.ref)}function a(e,t,o,u){var r={type:e,props:t,key:o,ref:u,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return n.vnode&&n.vnode(r),r}function h(e){return e.children}function d(e,n){this.props=e,this.context=n}function v(e,n){if(null==n)return e.__?v(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?v(e):null}function m(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return m(e)}}function y(e){(!e.__d&&(e.__d=!0)&&1===t.push(e)||u!==n.debounceRendering)&&((u=n.debounceRendering)||o)(g)}function g(){var e,n,o,u,r,_,l;for(t.sort(function(e,n){return n.__v.__b-e.__v.__b});e=t.pop();)e.__d&&(o=void 0,u=void 0,_=(r=(n=e).__v).__e,(l=n.__P)&&(o=[],u=S(l,r,f({},r),n.__n,void 0!==l.ownerSVGElement,null,o,null==_?v(r):_),E(o,r),u!=_&&m(r)))}function k(e,n,t,o,u,r,_,c,f){var p,a,h,d,m,y,g,k=t&&t.__k||i,x=k.length;if(c==l&&(c=null!=r?r[0]:x?v(t,0):null),p=0,n.__k=b(n.__k,function(t){if(null!=t){if(t.__=n,t.__b=n.__b+1,null===(h=k[p])||h&&t.key==h.key&&t.type===h.type)k[p]=void 0;else for(a=0;a<x;a++){if((h=k[a])&&t.key==h.key&&t.type===h.type){k[a]=void 0;break}h=null}if(d=S(e,t,h=h||l,o,u,r,_,c,f),(a=t.ref)&&h.ref!=a&&(g||(g=[]),h.ref&&g.push(h.ref,null,t),g.push(a,t.__c||d,t)),null!=d){var i;if(null==y&&(y=d),void 0!==t.__d)i=t.__d,t.__d=void 0;else if(r==h||d!=c||null==d.parentNode){e:if(null==c||c.parentNode!==e)e.appendChild(d),i=null;else{for(m=c,a=0;(m=m.nextSibling)&&a<x;a+=2)if(m==d)break e;e.insertBefore(d,c),i=c}"option"==n.type&&(e.value="")}c=void 0!==i?i:d.nextSibling,"function"==typeof n.type&&(n.__d=c)}}return p++,t}),n.__e=y,null!=r&&"function"!=typeof n.type)for(p=r.length;p--;)null!=r[p]&&s(r[p]);for(p=x;p--;)null!=k[p]&&D(k[p],k[p]);if(g)for(p=0;p<g.length;p++)H(g[p],g[++p],g[++p])}function b(e,n,t){if(null==t&&(t=[]),null==e||"boolean"==typeof e)n&&t.push(n(null));else if(Array.isArray(e))for(var o=0;o<e.length;o++)b(e[o],n,t);else t.push(n?n("string"==typeof e||"number"==typeof e?a(null,e,null,null):null!=e.__e||null!=e.__c?a(e.type,e.props,e.key,null):e):e);return t}function x(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]="number"==typeof t&&!1===c.test(n)?t+"px":null==t?"":t}function C(e,n,t,o,u){var r,_,l,i,c;if(u?"className"===n&&(n="class"):"class"===n&&(n="className"),"key"===n||"children"===n);else if("style"===n)if(r=e.style,"string"==typeof t)r.cssText=t;else{if("string"==typeof o&&(r.cssText="",o=null),o)for(_ in o)t&&_ in t||x(r,_,"");if(t)for(l in t)o&&t[l]===o[l]||x(r,l,t[l])}else"o"===n[0]&&"n"===n[1]?(i=n!==(n=n.replace(/Capture$/,"")),c=n.toLowerCase(),n=(c in e?c:n).slice(2),t?(o||e.addEventListener(n,w,i),(e.l||(e.l={}))[n]=t):e.removeEventListener(n,w,i)):"list"!==n&&"tagName"!==n&&"form"!==n&&"type"!==n&&"size"!==n&&!u&&n in e?e[n]=null==t?"":t:"function"!=typeof t&&"dangerouslySetInnerHTML"!==n&&(n!==(n=n.replace(/^xlink:?/,""))?null==t||!1===t?e.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),t):null==t||!1===t?e.removeAttribute(n):e.setAttribute(n,t))}function w(e){this.l[e.type](n.event?n.event(e):e)}function S(e,t,o,u,r,_,l,i,c){var s,p,a,v,m,y,g,b,x,C,w=t.type;if(void 0!==t.constructor)return null;(s=n.__b)&&s(t);try{e:if("function"==typeof w){if(b=t.props,x=(s=w.contextType)&&u[s.__c],C=s?x?x.props.value:s.__:u,o.__c?g=(p=t.__c=o.__c).__=p.__E:("prototype"in w&&w.prototype.render?t.__c=p=new w(b,C):(t.__c=p=new d(b,C),p.constructor=w,p.render=T),x&&x.sub(p),p.props=b,p.state||(p.state={}),p.context=C,p.__n=u,a=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=w.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=f({},p.__s)),f(p.__s,w.getDerivedStateFromProps(b,p.__s))),v=p.props,m=p.state,a)null==w.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==w.getDerivedStateFromProps&&b!==v&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(b,C),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(b,p.__s,C)){for(p.props=b,p.state=p.__s,p.__d=!1,p.__v=t,t.__e=o.__e,t.__k=o.__k,p.__h.length&&l.push(p),s=0;s<t.__k.length;s++)t.__k[s]&&(t.__k[s].__=t);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(b,p.__s,C),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(v,m,y)})}p.context=C,p.props=b,p.state=p.__s,(s=n.__r)&&s(t),p.__d=!1,p.__v=t,p.__P=e,s=p.render(p.props,p.state,p.context),t.__k=null!=s&&s.type==h&&null==s.key?s.props.children:s,null!=p.getChildContext&&(u=f(f({},u),p.getChildContext())),a||null==p.getSnapshotBeforeUpdate||(y=p.getSnapshotBeforeUpdate(v,m)),k(e,t,o,u,r,_,l,i,c),p.base=t.__e,p.__h.length&&l.push(p),g&&(p.__E=p.__=null),p.__e=!1}else t.__e=P(o.__e,t,o,u,r,_,l,c);(s=n.diffed)&&s(t)}catch(e){n.__e(e,t,o)}return t.__e}function E(e,t){n.__c&&n.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){n.__e(e,t.__v)}})}function P(e,n,t,o,u,r,_,c){var f,s,p,a,h,d=t.props,v=n.props;if(u="svg"===n.type||u,null==e&&null!=r)for(f=0;f<r.length;f++)if(null!=(s=r[f])&&(null===n.type?3===s.nodeType:s.localName===n.type)){e=s,r[f]=null;break}if(null==e){if(null===n.type)return document.createTextNode(v);e=u?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type,v.is&&{is:v.is}),r=null}if(null===n.type)null!=r&&(r[r.indexOf(e)]=null),d!==v&&e.data!=v&&(e.data=v);else if(n!==t){if(null!=r&&(r[r.indexOf(e)]=null,r=i.slice.call(e.childNodes)),p=(d=t.props||l).dangerouslySetInnerHTML,a=v.dangerouslySetInnerHTML,!c){if(d===l)for(d={},h=0;h<e.attributes.length;h++)d[e.attributes[h].name]=e.attributes[h].value;(a||p)&&(a&&p&&a.__html==p.__html||(e.innerHTML=a&&a.__html||""))}(function(e,n,t,o,u){var r;for(r in t)r in n||C(e,r,null,t[r],o);for(r in n)u&&"function"!=typeof n[r]||"value"===r||"checked"===r||t[r]===n[r]||C(e,r,n[r],t[r],o)})(e,v,d,u,c),n.__k=n.props.children,a||k(e,n,t,o,"foreignObject"!==n.type&&u,r,_,l,c),c||("value"in v&&void 0!==v.value&&v.value!==e.value&&(e.value=null==v.value?"":v.value),"checked"in v&&void 0!==v.checked&&v.checked!==e.checked&&(e.checked=v.checked))}return e}function H(e,t,o){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,o)}}function D(e,t,o){var u,r,_;if(n.unmount&&n.unmount(e),(u=e.ref)&&(u.current&&u.current!==e.__e||H(u,null,t)),o||"function"==typeof e.type||(o=null!=(r=e.__e)),e.__e=e.__d=void 0,null!=(u=e.__c)){if(u.componentWillUnmount)try{u.componentWillUnmount()}catch(e){n.__e(e,t)}u.base=u.__P=null}if(u=e.__k)for(_=0;_<u.length;_++)u[_]&&D(u[_],t,o);null!=r&&s(r)}function T(e,n,t){return this.constructor(e,t)}n={__e:function(e,n){for(var t,o;n=n.__;)if((t=n.__c)&&!t.__)try{if(t.constructor&&null!=t.constructor.getDerivedStateFromError&&(o=!0,t.setState(t.constructor.getDerivedStateFromError(e))),null!=t.componentDidCatch&&(o=!0,t.componentDidCatch(e)),o)return y(t.__E=t)}catch(n){e=n}throw e}},d.prototype.setState=function(e,n){var t;t=this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(t,this.props)),e&&f(t,e),null!=e&&this.__v&&(n&&this.__h.push(n),y(this))},d.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),y(this))},d.prototype.render=h,t=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,r=l,_=0;var U,N,M,A=[],F=n.__r,L=n.diffed,W=n.__c,O=n.unmount;function R(e){n.__h&&n.__h(N);var t=N.__H||(N.__H={t:[],u:[]});return e>=t.t.length&&t.t.push({}),t.t[e]}function V(e,n,t){var o=R(U++);return o.__c||(o.__c=N,o.i=[t?t(n):G(void 0,n),function(n){var t=e(o.i[0],n);o.i[0]!==t&&(o.i[0]=t,o.__c.setState({}))}]),o.i}function I(e,n){var t=R(U++);z(t.o,n)&&(t.i=e,t.o=n,N.__h.push(t))}function j(e,n){var t=R(U++);return z(t.o,n)?(t.o=n,t.v=e,t.i=e()):t.i}function q(){A.some(function(e){if(e.__P)try{e.__H.u.forEach(B),e.__H.u.forEach($),e.__H.u=[]}catch(t){return n.__e(t,e.m),!0}}),A=[]}function B(e){e.p&&e.p()}function $(e){var n=e.i();"function"==typeof n&&(e.p=n)}function z(e,n){return!e||n.some(function(n,t){return n!==e[t]})}function G(e,n){return"function"==typeof n?n(e):n}n.__r=function(e){F&&F(e),U=0,(N=e.__c).__H&&(N.__H.u.forEach(B),N.__H.u.forEach($),N.__H.u=[])},n.diffed=function(e){L&&L(e);var t=e.__c;if(t){var o=t.__H;o&&o.u.length&&(1!==A.push(t)&&M===n.requestAnimationFrame||((M=n.requestAnimationFrame)||function(e){var n,t=function(){clearTimeout(o),cancelAnimationFrame(n),setTimeout(e)},o=setTimeout(t,100);"undefined"!=typeof window&&(n=requestAnimationFrame(t))})(q))}},n.__c=function(e,t){t.some(function(e){try{e.__h.forEach(B),e.__h=e.__h.filter(function(e){return!e.i||$(e)})}catch(o){t.some(function(e){e.__h&&(e.__h=[])}),t=[],n.__e(o,e.m)}}),W&&W(e,t)},n.unmount=function(e){O&&O(e);var t=e.__c;if(t){var o=t.__H;if(o)try{o.t.forEach(function(e){return e.p&&e.p()})}catch(e){n.__e(e,t.m)}}};var J=function(e,n,t,o){var u;n[0]=0;for(var r=1;r<n.length;r++){var _=n[r++],l=n[r]?(n[0]|=_?1:2,t[n[r++]]):n[++r];3===_?o[0]=l:4===_?o[1]=Object.assign(o[1]||{},l):5===_?(o[1]=o[1]||{})[n[++r]]=l:6===_?o[1][n[++r]]+=l+"":_?(u=e.apply(l,J(e,l,t,["",null])),o.push(u),l[0]?n[0]|=2:(n[r-2]=0,n[r]=u)):o.push(l)}return o},K=new Map,Q=function(e){var n=K.get(this);return n||(n=new Map,K.set(this,n)),(n=J(this,n.get(e)||(n.set(e,n=function(e){for(var n,t,o=1,u="",r="",_=[0],l=function(e){1===o&&(e||(u=u.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?_.push(0,e,u):3===o&&(e||u)?(_.push(3,e,u),o=2):2===o&&"..."===u&&e?_.push(4,e,0):2===o&&u&&!e?_.push(5,0,!0,u):o>=5&&((u||!e&&5===o)&&(_.push(o,0,u,t),o=6),e&&(_.push(o,e,0,t),o=6)),u=""},i=0;i<e.length;i++){i&&(1===o&&l(),l(i));for(var c=0;c<e[i].length;c++)n=e[i][c],1===o?"<"===n?(l(),_=[_],o=3):u+=n:4===o?"--"===u&&">"===n?(o=1,u=""):u=n+u[0]:r?n===r?r="":u+=n:'"'===n||"'"===n?r=n:">"===n?(l(),o=1):o&&("="===n?(o=5,t=u,u=""):"/"===n&&(o<5||">"===e[i][c+1])?(l(),3===o&&(_=_[0]),o=_,(_=_[0]).push(2,0,o),o=0):" "===n||"\t"===n||"\n"===n||"\r"===n?(l(),o=2):u+=n),3===o&&"!--"===u&&(o=4,_=_[0])}return l(),_}(e)),n),arguments,[])).length>1?n:n[0]}.bind(p);e.h=p,e.html=Q,e.render=function(e,t){var o,u,_,c,f,s;o=e,u=t,_=t.firstElementChild,n.__&&n.__(o,u),f=(c=_===r)?null:_&&_.__k||u.__k,o=p(h,null,[o]),s=[],S(u,(c?u:_||u).__k=o,f||l,l,void 0!==u.ownerSVGElement,_&&!c?[_]:f?null:i.slice.call(u.childNodes),s,_||l,c),E(s,o)},e.Component=d,e.createContext=function(e){var n={},t={__c:"__cC"+_++,__:e,Consumer:function(e,n){return e.children(n)},Provider:function(e){var o,u=this;return this.getChildContext||(o=[],this.getChildContext=function(){return n[t.__c]=u,n},this.shouldComponentUpdate=function(n){e.value!==n.value&&o.some(function(e){e.context=n.value,y(e)})},this.sub=function(e){o.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){o.splice(o.indexOf(e),1),n&&n.call(e)}}),e.children}};return t.Consumer.contextType=t,t},e.useState=function(e){return V(G,e)},e.useReducer=V,e.useEffect=function(e,n){var t=R(U++);z(t.o,n)&&(t.i=e,t.o=n,N.__H.u.push(t))},e.useLayoutEffect=I,e.useRef=function(e){return j(function(){return{current:e}},[])},e.useImperativeHandle=function(e,n,t){I(function(){"function"==typeof e?e(n()):e&&(e.current=n())},null==t?t:t.concat(e))},e.useMemo=j,e.useCallback=function(e,n){return j(function(){return e},n)},e.useContext=function(e){var n=N.context[e.__c];if(!n)return e.__;var t=R(U++);return null==t.i&&(t.i=!0,n.sub(N)),n.props.value},e.useDebugValue=function(e,t){n.useDebugValue&&n.useDebugValue(t?t(e):e)}});
